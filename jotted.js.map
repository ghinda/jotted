{"version":3,"file":null,"sources":["/run/media/mokush/work/dev/jotted/src/template.js","/run/media/mokush/work/dev/jotted/src/util.js","/run/media/mokush/work/dev/jotted/src/script.js","/run/media/mokush/work/dev/jotted/src/plugin.js","/run/media/mokush/work/dev/jotted/src/pubsoup.js","/run/media/mokush/work/dev/jotted/src/plugins/markdown.js","/run/media/mokush/work/dev/jotted/src/plugins/babel.js","/run/media/mokush/work/dev/jotted/src/plugins/stylus.js","/run/media/mokush/work/dev/jotted/src/plugins/coffeescript.js","/run/media/mokush/work/dev/jotted/src/plugins/less.js","/run/media/mokush/work/dev/jotted/src/plugins/ace.js","/run/media/mokush/work/dev/jotted/src/plugins/codemirror.js","/run/media/mokush/work/dev/jotted/src/bundle-plugins.js","/run/media/mokush/work/dev/jotted/src/core.js"],"sourcesContent":["/* template\n */\n\nexport function container () {\n  return `\n    <ul class=\"jotted-nav\">\n      <li class=\"jotted-nav-item jotted-nav-item-result\">\n        <a href=\"#\" data-jotted-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-html\">\n        <a href=\"#\" data-jotted-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-css\">\n        <a href=\"#\" data-jotted-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-js\">\n        <a href=\"#\" data-jotted-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"jotted-pane jotted-pane-result\"></div>\n    <div class=\"jotted-pane jotted-pane-html\"></div>\n    <div class=\"jotted-pane jotted-pane-css\"></div>\n    <div class=\"jotted-pane jotted-pane-js\"></div>\n  `\n}\n\nexport function paneActiveClass (type) {\n  return `jotted-pane-active-${type}`\n}\n\nexport function containerClass () {\n  return `jotted`\n}\n\nexport function showBlankClass () {\n  return `jotted-nav-show-blank`\n}\n\nexport function hasFileClass (type) {\n  return `jotted-has-${type}`\n}\n\nexport function editorClass (type) {\n  return `jotted-editor jotted-editor-${type}`\n}\n\nexport function editorContent (type, fileUrl = '') {\n  return `\n    <textarea data-jotted-type=\"${type}\" data-jotted-file=\"${fileUrl}\"></textarea>\n    <div class=\"jotted-status\"></div>\n  `\n}\n\nexport function statusMessage (err) {\n  return `\n    <p>${err}</p>\n  `\n}\n\nexport function statusClass (type) {\n  return `jotted-status-${type}`\n}\n\nexport function statusActiveClass (type) {\n  return `jotted-status-active-${type}`\n}\n\nexport function pluginClass (name) {\n  return `jotted-plugin-${name}`\n}\n\nexport function frameContent (body = '') {\n  return `\n    <!doctype html>\n    <html>\n    <head>\n    </head>\n    <body>\n    ${body}\n    </body>\n    </html>\n  `\n}\n\nexport function statusLoading (url) {\n  return `Loading <strong>${url}</strong>..`\n}\n\nexport function statusFetchError (url) {\n  return `There was an error loading <strong>${url}</strong>.`\n}\n","/* util\n */\n\nfunction extend (obj = {}, defaults = {}) {\n  var extended = {}\n  Object.keys(defaults).forEach(function (key) {\n    if (typeof obj[key] !== 'undefined') {\n      extended[key] = obj[key]\n    } else {\n      extended[key] = defaults[key]\n    }\n  })\n\n  return extended\n}\n\nfunction fetch (url, callback) {\n  var xhr = new window.XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'text'\n\n  xhr.onload = function () {\n    if (xhr.status === 200) {\n      callback(null, xhr.responseText)\n    } else {\n      callback(url, xhr)\n    }\n  }\n\n  xhr.onerror = function (err) {\n    callback(err)\n  }\n\n  xhr.send()\n}\n\nfunction runCallback (index, params, arr, errors, callback) {\n  return function (err, res) {\n    if (err) {\n      errors.push(err)\n    }\n\n    index++\n    if (index === arr.length) {\n      callback(errors, res)\n    } else {\n      seqRunner(index, res, arr, errors, callback)\n    }\n  }\n}\n\nfunction seqRunner (index, params, arr, errors, callback) {\n  // async\n  arr[index](params, runCallback.apply(this, arguments))\n}\n\nfunction seq (arr, params, callback = function () {}) {\n  var errors = []\n\n  if (!arr.length) {\n    return callback(errors, params)\n  }\n\n  seqRunner(0, params, arr, errors, callback)\n}\n\nfunction debounce (fn, delay) {\n  var timer = null\n  return function () {\n    var args = arguments\n    clearTimeout(timer)\n\n    timer = setTimeout(() => {\n      fn.apply(this, args)\n    }, delay)\n  }\n}\n\nfunction log () {\n  console.log(arguments)\n}\n\nfunction hasClass (node, className) {\n  if (node.className.indexOf(className) !== -1) {\n    return true\n  }\n\n  return false\n}\n\nfunction addClass (node, className) {\n  node.className += ' ' + className\n\n  return node.className\n}\n\nfunction removeClass (node, className) {\n  var spaceBefore = ' ' + className\n  var spaceAfter = className + ' '\n\n  if (node.className.indexOf(spaceBefore) !== -1) {\n    node.className = node.className.replace(spaceBefore, '')\n  } else if (node.className.indexOf(spaceAfter) !== -1) {\n    node.className = node.className.replace(spaceAfter, '')\n  } else {\n    node.className = node.className.replace(className, '')\n  }\n\n  return node.className\n}\n\nfunction data (node, attr) {\n  return node.getAttribute('data-' + attr)\n}\n\nexport {\n  extend,\n  fetch,\n  seq,\n  debounce,\n  log,\n\n  data,\n  hasClass,\n  addClass,\n  removeClass\n}\n","/* script tag runner\n */\n\nimport * as util from './util.js'\n\n/* re-insert script tags\n */\nfunction insertScript ($script, callback = function () {}) {\n  var s = document.createElement('script')\n  s.type = 'text/javascript'\n  if ($script.src) {\n    s.onload = () => {\n      // use the timeout trick to make sure the script is garbage collected,\n      // when the iframe is destroyed.\n      // sometimes when loading large files (eg. babel.js)\n      // and a change is triggered,\n      // the seq runner skips loading jotted.js, and runs the inline script\n      // causing a `Jotted is undefined` error.\n      setTimeout(callback)\n    }\n    s.onerror = callback\n    s.src = $script.src\n  } else {\n    s.textContent = $script.innerText\n  }\n\n  // re-insert the script tag so it executes.\n  this._get('$resultFrame').contentWindow.document.head.appendChild(s)\n\n  // clean-up\n  $script.parentNode.removeChild($script)\n\n  // run the callback immediately for inline scripts\n  if (!$script.src) {\n    callback()\n  }\n}\n\n// https://developer.mozilla.org/en/docs/Web/HTML/Element/script\nvar runScriptTypes = [\n  'text/javascript',\n  'text/ecmascript',\n  'application/javascript',\n  'application/ecmascript'\n]\n\nexport default function runScripts () {\n  // get scripts tags from content added with innerhtml\n  var $scripts = this._get('$resultFrame').contentWindow.document.body.querySelectorAll('script')\n  var l = $scripts.length\n  var runList = []\n  var typeAttr\n\n  for (let i = 0; i < l; i++) {\n    typeAttr = $scripts[i].getAttribute('type')\n\n    // only run script tags without type attribute\n    // or with a standard attribute value\n    if (!typeAttr || runScriptTypes.indexOf(typeAttr) !== -1) {\n      runList.push((params, callback) => {\n        insertScript.call(this, $scripts[i], callback)\n      })\n    }\n  }\n\n  // insert the script tags sequentially\n  // so we preserve execution order\n  util.seq(runList)\n}\n","/* plugin\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\n\nvar plugins = []\n\nfunction find (id) {\n  for (let pluginIndex in plugins) {\n    let plugin = plugins[pluginIndex]\n    if (plugin._id === id) {\n      return plugin\n    }\n  }\n\n  // can't find plugin\n  throw new Error(`Plugin ${id} is not registered.`)\n}\n\nfunction register (id, plugin) {\n  // private properties\n  plugin._id = id\n  plugins.push(plugin)\n}\n\n// create a new instance of each plugin, on the jotted instance\nfunction init () {\n  this._get('options').plugins.forEach((plugin) => {\n    // check if plugin definition is string or object\n    let Plugin\n    let pluginName\n    let pluginOptions = {}\n    if (typeof plugin === 'string') {\n      pluginName = plugin\n    } else if (typeof plugin === 'object') {\n      pluginName = plugin.name\n      pluginOptions = plugin.options || {}\n    }\n\n    Plugin = find(pluginName)\n    this._get('plugins')[plugin] = new Plugin(this, pluginOptions)\n\n    util.addClass(this._get('$container'), template.pluginClass(pluginName))\n  })\n}\n\nexport {\n  register,\n  init\n}\n","/* pubsoup\n */\n\nimport * as util from './util.js'\n\nexport default class PubSoup {\n  constructor () {\n    this.topics = {}\n    this.callbacks = {}\n  }\n\n  find (query) {\n    this.topics[query] = this.topics[query] || []\n    return this.topics[query]\n  }\n\n  subscribe (topic, subscriber, priority = 90) {\n    var foundTopic = this.find(topic)\n    subscriber._priority = priority\n    foundTopic.push(subscriber)\n\n    // sort subscribers on priority\n    foundTopic.sort(function (a, b) {\n      return (a._priority > b._priority) ? 1 : ((b._priority > a._priority) ? -1 : 0)\n    })\n  }\n\n  unsubscribe (topic, subscriber) {\n    var foundTopic = this.find(topic)\n    foundTopic.forEach(function (t) {\n      // if no subscriber is specified\n      // remove all subscribers\n      if (!subscriber) {\n        t.length = 0\n        return\n      }\n\n      // find the subscriber in the topic\n      var index = [].indexOf.call(t, subscriber)\n\n      // show an error if we didn't find the subscriber\n      if (index === -1) {\n        return util.log('Subscriber not found in topic')\n      }\n\n      t.splice(index, 1)\n    })\n  }\n\n  // sequentially runs a method on all plugins\n  publish (topic, params = {}) {\n    var foundTopic = this.find(topic)\n    var runList = []\n\n    foundTopic.forEach(function (subscriber) {\n      runList.push(subscriber)\n    })\n\n    util.seq(runList, params, this.runCallbacks(topic))\n  }\n\n  // parallel run all .done callbacks\n  runCallbacks (topic) {\n    var pub = this\n    return function () {\n      pub.callbacks[topic] = pub.callbacks[topic] || []\n\n      pub.callbacks[topic].forEach((c) => {\n        c.apply(this, arguments)\n      })\n    }\n  }\n\n  // attach a callback when a publish[topic] is done\n  done (topic, callback = function () {}) {\n    this.callbacks[topic] = this.callbacks[topic] || []\n    this.callbacks[topic].push(callback)\n  }\n}\n","/* markdown plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginMarkdown {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {})\n\n    // check if marked is loaded\n    if (typeof window.marked === 'undefined') {\n      return\n    }\n\n    window.marked.setOptions(options)\n\n    // change html link label\n    jotted.$container.querySelector('a[data-jotted-type=\"html\"]').innerHTML = 'Markdown'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse html content\n    if (params.type === 'html') {\n      try {\n        params.content = window.marked(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* babel plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginBabel {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {\n      presets: [ 'es2015' ]\n    })\n\n    // check if babel is loaded\n    if (typeof window.Babel === 'undefined') {\n      return\n    }\n\n    // change js link label\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'ES2015'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse js content\n    if (params.type === 'js') {\n      try {\n        params.content = window.Babel.transform(params.content, this.options).code\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* stylus plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginStylus {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if stylus is loaded\n    if (typeof window.stylus === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Stylus\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Stylus'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isStylus (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.styl') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .styl and blank files\n    if (this.isStylus(params)) {\n      window.stylus(params.content, this.options).render((err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* coffeescript plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCoffeeScript {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if coffeescript is loaded\n    if (typeof window.CoffeeScript === 'undefined') {\n      return\n    }\n\n    // change JS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'CoffeeScript'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isCoffee (params) {\n    if (params.type !== 'js') {\n      return false\n    }\n\n    return (params.file.indexOf('.coffee') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isCoffee(params)) {\n      try {\n        params.content = window.CoffeeScript.compile(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n    }\n\n    callback(null, params)\n  }\n}\n","/* less plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginLess {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if less is loaded\n    if (typeof window.less === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Less'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isLess (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.less') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isLess(params)) {\n      window.less.render(params.content, this.options, (err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res.css\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* ace plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginAce {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n\n    this.modemap = {\n      'html': 'html',\n      'css': 'css',\n      'js': 'javascript',\n      'less': 'less',\n      'coffee': 'coffeescript'\n    }\n\n    options = util.extend(options, {})\n\n    // check if Ace is loaded\n    if (typeof window.ace === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      let $aceContainer = document.createElement('div')\n      $editors[i].appendChild($aceContainer)\n\n      this.editor[type] = window.ace.edit($aceContainer)\n      let editor = this.editor[type]\n\n      let editorOptions = util.extend(options)\n\n      editor.getSession().setMode(this.aceMode(type, file))\n      editor.getSession().setOptions(editorOptions)\n\n      editor.$blockScrolling = Infinity\n\n      editor.on('change', () => {\n        $textarea.value = editor.getValue()\n\n        // trigger a change event\n        jotted.trigger('change', {\n          aceEditor: editor,\n          type: type,\n          file: file,\n          content: $textarea.value\n        })\n      })\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the ace change\n    if (!params.aceEditor) {\n      editor.getSession().setValue(params.content)\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n\n  aceMode (type, file) {\n    var mode = 'ace/mode/'\n\n    // try the file extension\n    for (let key in this.modemap) {\n      if (file.indexOf('.' + key) !== -1) {\n        return mode + this.modemap[key]\n      }\n    }\n\n    // try the file type (html/css/js)\n    for (let key in this.modemap) {\n      if (type === key) {\n        return mode + this.modemap[key]\n      }\n    }\n\n    return mode + type\n  }\n}\n","/* coremirror plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCodeMirror {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n\n    options = util.extend(options, {\n      lineNumbers: true\n    })\n\n    // check if CodeMirror is loaded\n    if (typeof window.CodeMirror === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      this.editor[type] = window.CodeMirror.fromTextArea($textarea, options)\n      let editor = this.editor[type]\n\n      editor.on('change', () => {\n        $textarea.value = editor.getValue()\n\n        // trigger a change event\n        jotted.trigger('change', {\n          cmEditor: editor,\n          type: type,\n          file: file,\n          content: $textarea.value\n        })\n      })\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the codemirror change\n    if (!params.cmEditor) {\n      editor.setValue(params.content)\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* jotted\n */\n\n// register bundled plugins\nimport PluginAce from './plugins/ace.js'\nimport PluginCodeMirror from './plugins/codemirror.js'\nimport PluginLess from './plugins/less.js'\nimport PluginCoffeeScript from './plugins/coffeescript.js'\nimport PluginStylus from './plugins/stylus.js'\nimport PluginBabel from './plugins/babel.js'\nimport PluginMarkdown from './plugins/markdown.js'\n\nexport default function BundlePlugins (jotted) {\n  jotted.plugin('codemirror', PluginCodeMirror)\n  jotted.plugin('ace', PluginAce)\n  jotted.plugin('less', PluginLess)\n  jotted.plugin('coffeescript', PluginCoffeeScript)\n  jotted.plugin('stylus', PluginStylus)\n  jotted.plugin('babel', PluginBabel)\n  jotted.plugin('markdown', PluginMarkdown)\n}\n","/* jotted\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\nimport * as plugin from './plugin.js'\nimport script from './script.js'\nimport PubSoup from './pubsoup.js'\n\nclass Jotted {\n  constructor ($jottedContainer, opts) {\n    if (!$jottedContainer) {\n      throw new Error('Can\\'t find Jotted container.')\n    }\n\n    // private data\n    var _private = {}\n    this._get = function (key) {\n      return _private[key]\n    }\n    this._set = function (key, value) {\n      _private[key] = value\n      return _private[key]\n    }\n\n    // options\n    var options = this._set('options', util.extend(opts, {\n      files: [],\n      showBlank: false,\n      runScripts: true,\n      pane: 'result',\n      debounce: 250,\n      plugins: []\n    }))\n\n    // show all tabs, even if empty\n    if (options.showBlank) {\n      util.addClass($container, template.showBlankClass())\n    }\n\n    // PubSoup\n    var pubsoup = this._set('pubsoup', new PubSoup())\n    // debounced trigger method\n    this._set('trigger', util.debounce(pubsoup.publish.bind(pubsoup), options.debounce))\n    this._set('on', function () {\n      pubsoup.subscribe.apply(pubsoup, arguments)\n    })\n    this._set('off', function () {\n      pubsoup.unsubscribe.apply(pubsoup, arguments)\n    })\n    var done = this._set('done', function () {\n      pubsoup.done.apply(pubsoup, arguments)\n    })\n\n    // done change on all subscribers,\n    // render the results.\n    done('change', this.changeCallback.bind(this))\n\n    // DOM\n    var $container = this._set('$container', $jottedContainer)\n    $container.innerHTML = template.container()\n    util.addClass($container, template.containerClass())\n\n    // default pane\n    var paneActive = this._set('paneActive', options.pane)\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    this._set('$status', {})\n\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.markup(type)\n    }\n\n    this.createResultFrame()\n\n    // change events\n    $container.addEventListener('change', util.debounce(this.change.bind(this), options.debounce))\n    $container.addEventListener('keyup', util.debounce(this.change.bind(this), options.debounce))\n\n    // pane change\n    $container.addEventListener('click', this.pane.bind(this))\n\n    // expose public properties\n    this.$container = this._get('$container')\n    this.on = this._get('on')\n    this.off = this._get('off')\n    this.done = this._get('done')\n    this.trigger = this._get('trigger')\n    this.paneActive = this._get('paneActive')\n\n    // init plugins\n    this._set('plugins', {})\n    plugin.init.call(this)\n\n    // load files\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.load(type)\n    }\n  }\n\n  findFile (type) {\n    var file = {}\n    var options = this._get('options')\n\n    for (let fileIndex in options.files) {\n      let file = options.files[fileIndex]\n      if (file.type === type) {\n        return file\n      }\n    }\n\n    return file\n  }\n\n  markup (type) {\n    var $container = this._get('$container')\n    var $parent = $container.querySelector(`.jotted-pane-${type}`)\n    // create the markup for an editor\n    var file = this.findFile(type)\n\n    var $editor = document.createElement('div')\n    $editor.innerHTML = template.editorContent(type, file.url)\n    $editor.className = template.editorClass(type)\n\n    $parent.appendChild($editor)\n\n    // get the status node\n    this._get('$status')[type] = $parent.querySelector('.jotted-status')\n\n    // if we have a file for the current type\n    if (typeof file.url !== 'undefined' || typeof file.content !== 'undefined') {\n      // add the has-type class to the container\n      util.addClass($container, template.hasFileClass(type))\n    }\n  }\n\n  load (type) {\n    // create the markup for an editor\n    var file = this.findFile(type)\n    var $textarea = this._get('$container').querySelector(`.jotted-pane-${type} textarea`)\n\n    // file as string\n    if (typeof file.content !== 'undefined') {\n      this.setValue($textarea, file.content)\n    } else if (typeof file.url !== 'undefined') {\n      // show loading message\n      this.status('loading', [ template.statusLoading(file.url) ], {\n        type: type,\n        file: file\n      })\n\n      // file as url\n      util.fetch(file.url, (err, res) => {\n        if (err) {\n          // show load errors\n          this.status('error', [ template.statusFetchError(err) ], {\n            type: type\n          })\n\n          return\n        }\n\n        // clear the loading status\n        this.clearStatus('loading', {\n          type: type\n        })\n\n        this.setValue($textarea, res)\n      })\n    }\n  }\n\n  setValue ($textarea, val) {\n    $textarea.value = val\n\n    // trigger change event, for initial render\n    this.change({\n      target: $textarea\n    })\n  }\n\n  change (e) {\n    if (!util.data(e.target, 'jotted-type')) {\n      return\n    }\n\n    // don't use .trigger,\n    // so we don't debounce different change calls (html, css, js)\n    // causing only one of them to be inserted.\n    // the textarea change event is debounced when attached.\n    this._get('pubsoup').publish('change', {\n      type: util.data(e.target, 'jotted-type'),\n      file: util.data(e.target, 'jotted-file'),\n      content: e.target.value\n    })\n  }\n\n  createResultFrame (css = '') {\n    // maintain previous styles\n    var $newStyle = document.createElement('style')\n\n    var $styleInject = this._get('$styleInject')\n    if ($styleInject) {\n      $newStyle.textContent = $styleInject.textContent\n    }\n\n    $styleInject = this._set('$styleInject', $newStyle)\n    var $paneResult = this._get('$container').querySelector('.jotted-pane-result')\n\n    var $resultFrame = this._get('$resultFrame')\n    if ($resultFrame) {\n      $paneResult.removeChild($resultFrame)\n    }\n\n    $resultFrame = this._set('$resultFrame', document.createElement('iframe'))\n    $paneResult.appendChild($resultFrame)\n\n    var $frameDoc = $resultFrame.contentWindow.document\n    $frameDoc.open()\n    $frameDoc.write(template.frameContent())\n    $frameDoc.close()\n\n    $frameDoc.head.appendChild($styleInject)\n  }\n\n  changeCallback (errors, params) {\n    this.status('error', errors, params)\n    var options = this._get('options')\n\n    if (params.type === 'html') {\n      // if we have script execution enabled,\n      // re-create the iframe,\n      // to stop execution of any previously started js,\n      // and garbage collect it.\n      if (options.runScripts) {\n        this.createResultFrame()\n      }\n\n      // can't cache the $resultFrame reference, because\n      // it's re-created when using runScripts.\n      this._get('$resultFrame').contentWindow.document.body.innerHTML = params.content\n\n      if (options.runScripts) {\n        script.call(this)\n      }\n\n      return\n    }\n\n    if (params.type === 'css') {\n      this._get('$styleInject').textContent = params.content\n      return\n    }\n\n    if (params.type === 'js') {\n      // catch and show js errors\n      try {\n        this._get('$resultFrame').contentWindow.eval(params.content)\n      } catch (err) {\n        // only show eval errors if we don't have other errors from plugins.\n        // useful for preprocessor error reporting (eg. babel, coffeescript).\n        if (!errors.length) {\n          this.status('error', [ err.message ], {\n            type: 'js'\n          })\n        }\n      }\n\n      return\n    }\n  }\n\n  pane (e) {\n    if (!util.data(e.target, 'jotted-type')) {\n      return\n    }\n\n    var $container = this._get('$container')\n    var paneActive = this._get('paneActive')\n    util.removeClass($container, template.paneActiveClass(paneActive))\n\n    paneActive = this._set('paneActive', util.data(e.target, 'jotted-type'))\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    e.preventDefault()\n  }\n\n  status (statusType = 'error', messages = [], params = {}) {\n    if (!messages.length) {\n      return this.clearStatus(statusType, params)\n    }\n\n    var $status = this._get('$status')\n\n    // add error/loading class to status\n    util.addClass($status[params.type], template.statusClass(statusType))\n\n    util.addClass(this._get('$container'), template.statusActiveClass(params.type))\n\n    var markup = ''\n    messages.forEach(function (err) {\n      markup += template.statusMessage(err)\n    })\n\n    $status[params.type].innerHTML = markup\n  }\n\n  clearStatus (statusType, params) {\n    var $status = this._get('$status')\n\n    util.removeClass($status[params.type], template.statusClass(statusType))\n    util.removeClass(this._get('$container'), template.statusActiveClass(params.type))\n    $status[params.type].innerHTML = ''\n  }\n}\n\n// register plugins\nJotted.plugin = function () {\n  return plugin.register.apply(this, arguments)\n}\n\n// register bundled plugins\nimport BundlePlugins from './bundle-plugins.js'\nBundlePlugins(Jotted)\n\nexport default Jotted\n"],"names":["util.seq","util.addClass","template.pluginClass","util.log","util.extend","util.data","template.showBlankClass","util.debounce","template.container","template.containerClass","template.paneActiveClass","plugin.init","template.editorContent","template.editorClass","template.hasFileClass","template.statusLoading","util.fetch","template.statusFetchError","template.frameContent","script","util.removeClass","template.statusClass","template.statusActiveClass","template.statusMessage","plugin.register"],"mappings":"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"}