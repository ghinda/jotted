{"version":3,"file":null,"sources":["/run/media/mokush/work/dev/jotted/src/util.js","/run/media/mokush/work/dev/jotted/src/template.js","/run/media/mokush/work/dev/jotted/src/plugin.js","/run/media/mokush/work/dev/jotted/src/pubsoup.js","/run/media/mokush/work/dev/jotted/src/plugins/render.js","/run/media/mokush/work/dev/jotted/src/plugins/scriptless.js","/run/media/mokush/work/dev/jotted/src/plugins/ace.js","/run/media/mokush/work/dev/jotted/src/plugins/codemirror.js","/run/media/mokush/work/dev/jotted/src/plugins/less.js","/run/media/mokush/work/dev/jotted/src/plugins/coffeescript.js","/run/media/mokush/work/dev/jotted/src/plugins/stylus.js","/run/media/mokush/work/dev/jotted/src/plugins/babel.js","/run/media/mokush/work/dev/jotted/src/plugins/markdown.js","/run/media/mokush/work/dev/jotted/src/plugins/console.js","/run/media/mokush/work/dev/jotted/src/plugins/play.js","/run/media/mokush/work/dev/jotted/src/bundle-plugins.js","/run/media/mokush/work/dev/jotted/src/core.js"],"sourcesContent":["/* util\n */\n\nfunction extend (obj = {}, defaults = {}) {\n  var extended = {}\n  // clone object\n  Object.keys(obj).forEach(function (key) {\n    extended[key] = obj[key]\n  })\n\n  // copy default keys where undefined\n  Object.keys(defaults).forEach(function (key) {\n    if (typeof extended[key] !== 'undefined') {\n      extended[key] = obj[key]\n    } else {\n      extended[key] = defaults[key]\n    }\n  })\n\n  return extended\n}\n\nfunction fetch (url, callback) {\n  var xhr = new window.XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'text'\n\n  xhr.onload = function () {\n    if (xhr.status === 200) {\n      callback(null, xhr.responseText)\n    } else {\n      callback(url, xhr)\n    }\n  }\n\n  xhr.onerror = function (err) {\n    callback(err)\n  }\n\n  xhr.send()\n}\n\nfunction runCallback (index, params, arr, errors, callback) {\n  return function (err, res) {\n    if (err) {\n      errors.push(err)\n    }\n\n    index++\n    if (index < arr.length) {\n      seqRunner(index, res, arr, errors, callback)\n    } else {\n      callback(errors, res)\n    }\n  }\n}\n\nfunction seqRunner (index, params, arr, errors, callback) {\n  // async\n  arr[index](params, runCallback.apply(this, arguments))\n}\n\nfunction seq (arr, params, callback = function () {}) {\n  var errors = []\n\n  if (!arr.length) {\n    return callback(errors, params)\n  }\n\n  seqRunner(0, params, arr, errors, callback)\n}\n\nfunction debounce (fn, delay) {\n  var cooldown = null\n  var multiple = null\n  return function () {\n    if (cooldown) {\n      multiple = true\n    } else {\n      fn.apply(this, arguments)\n    }\n\n    clearTimeout(cooldown)\n\n    cooldown = setTimeout(() => {\n      if (multiple) {\n        fn.apply(this, arguments)\n      }\n\n      cooldown = null\n      multiple = null\n    }, delay)\n  }\n}\n\nfunction log () {\n  console.log(arguments)\n}\n\nfunction hasClass (node, className) {\n  if (!node.className) {\n    return false\n  }\n  var tempClass = ' ' + node.className + ' '\n  className = ' ' + className + ' '\n\n  if (tempClass.indexOf(className) !== -1) {\n    return true\n  }\n\n  return false\n}\n\nfunction addClass (node, className) {\n  // class is already added\n  if (hasClass(node, className)) {\n    return node.className\n  }\n\n  if (node.className) {\n    className = ' ' + className\n  }\n\n  node.className += className\n\n  return node.className\n}\n\nfunction removeClass (node, className) {\n  var spaceBefore = ' ' + className\n  var spaceAfter = className + ' '\n\n  if (node.className.indexOf(spaceBefore) !== -1) {\n    node.className = node.className.replace(spaceBefore, '')\n  } else if (node.className.indexOf(spaceAfter) !== -1) {\n    node.className = node.className.replace(spaceAfter, '')\n  } else {\n    node.className = node.className.replace(className, '')\n  }\n\n  return node.className\n}\n\nfunction data (node, attr) {\n  return node.getAttribute('data-' + attr)\n}\n\n// mode detection based on content type and file extension\nvar defaultModemap = {\n  'html': 'html',\n  'css': 'css',\n  'js': 'javascript',\n  'less': 'less',\n  'styl': 'stylus',\n  'coffee': 'coffeescript'\n}\n\nfunction getMode (type = '', file = '', customModemap = {}) {\n  var modemap = extend(customModemap, defaultModemap)\n\n  // try the file extension\n  for (let key in modemap) {\n    let keyLength = key.length\n    if (file.slice(-keyLength++) === '.' + key) {\n      return modemap[key]\n    }\n  }\n\n  // try the file type (html/css/js)\n  for (let key in modemap) {\n    if (type === key) {\n      return modemap[key]\n    }\n  }\n\n  return type\n}\n\nexport {\n  extend,\n  fetch,\n  seq,\n  debounce,\n  log,\n  getMode,\n\n  data,\n  hasClass,\n  addClass,\n  removeClass\n}\n","/* template\n */\n\nexport function container () {\n  return `\n    <ul class=\"jotted-nav\">\n      <li class=\"jotted-nav-item jotted-nav-item-result\">\n        <a href=\"#\" data-jotted-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-html\">\n        <a href=\"#\" data-jotted-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-css\">\n        <a href=\"#\" data-jotted-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"jotted-nav-item jotted-nav-item-js\">\n        <a href=\"#\" data-jotted-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"jotted-pane jotted-pane-result\"><iframe></iframe></div>\n    <div class=\"jotted-pane jotted-pane-html\"></div>\n    <div class=\"jotted-pane jotted-pane-css\"></div>\n    <div class=\"jotted-pane jotted-pane-js\"></div>\n  `\n}\n\nexport function paneActiveClass (type) {\n  return `jotted-pane-active-${type}`\n}\n\nexport function containerClass () {\n  return `jotted`\n}\n\nexport function hasFileClass (type) {\n  return `jotted-has-${type}`\n}\n\nexport function editorClass (type) {\n  return `jotted-editor jotted-editor-${type}`\n}\n\nexport function editorContent (type, fileUrl = '') {\n  return `\n    <textarea data-jotted-type=\"${type}\" data-jotted-file=\"${fileUrl}\"></textarea>\n    <div class=\"jotted-status\"></div>\n  `\n}\n\nexport function statusMessage (err) {\n  return `\n    <p>${err}</p>\n  `\n}\n\nexport function statusClass (type) {\n  return `jotted-status-${type}`\n}\n\nexport function statusActiveClass (type) {\n  return `jotted-status-active-${type}`\n}\n\nexport function pluginClass (name) {\n  return `jotted-plugin-${name}`\n}\n\nexport function statusLoading (url) {\n  return `Loading <strong>${url}</strong>..`\n}\n\nexport function statusFetchError (url) {\n  return `There was an error loading <strong>${url}</strong>.`\n}\n","/* plugin\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\n\nvar plugins = []\n\nfunction find (id) {\n  for (let pluginIndex in plugins) {\n    let plugin = plugins[pluginIndex]\n    if (plugin._id === id) {\n      return plugin\n    }\n  }\n\n  // can't find plugin\n  throw new Error(`Plugin ${id} is not registered.`)\n}\n\nfunction register (id, plugin) {\n  // private properties\n  plugin._id = id\n  plugins.push(plugin)\n}\n\n// create a new instance of each plugin, on the jotted instance\nfunction init () {\n  this._get('options').plugins.forEach((plugin) => {\n    // check if plugin definition is string or object\n    let Plugin\n    let pluginName\n    let pluginOptions = {}\n    if (typeof plugin === 'string') {\n      pluginName = plugin\n    } else if (typeof plugin === 'object') {\n      pluginName = plugin.name\n      pluginOptions = plugin.options || {}\n    }\n\n    Plugin = find(pluginName)\n    this._get('plugins')[plugin] = new Plugin(this, pluginOptions)\n\n    util.addClass(this._get('$container'), template.pluginClass(pluginName))\n  })\n}\n\nexport {\n  register,\n  init\n}\n","/* pubsoup\n */\n\nimport * as util from './util.js'\n\nexport default class PubSoup {\n  constructor () {\n    this.topics = {}\n    this.callbacks = {}\n  }\n\n  find (query) {\n    this.topics[query] = this.topics[query] || []\n    return this.topics[query]\n  }\n\n  subscribe (topic, subscriber, priority = 90) {\n    var foundTopic = this.find(topic)\n    subscriber._priority = priority\n    foundTopic.push(subscriber)\n\n    // sort subscribers on priority\n    foundTopic.sort(function (a, b) {\n      return (a._priority > b._priority) ? 1 : ((b._priority > a._priority) ? -1 : 0)\n    })\n  }\n\n  // removes a function from an array\n  remover (arr, fn) {\n    arr.forEach(function () {\n      // if no fn is specified\n      // clean-up the array\n      if (!fn) {\n        arr.length = 0\n        return\n      }\n\n      // find the fn in the arr\n      var index = [].indexOf.call(arr, fn)\n\n      // we didn't find it in the array\n      if (index === -1) {\n        return\n      }\n\n      arr.splice(index, 1)\n    })\n  }\n\n  unsubscribe (topic, subscriber) {\n    // remove from subscribers\n    var foundTopic = this.find(topic)\n    this.remover(foundTopic, subscriber)\n\n    // remove from callbacks\n    this.callbacks[topic] = this.callbacks[topic] || []\n    this.remover(this.callbacks[topic], subscriber)\n  }\n\n  // sequentially runs a method on all plugins\n  publish (topic, params = {}) {\n    var foundTopic = this.find(topic)\n    var runList = []\n\n    foundTopic.forEach(function (subscriber) {\n      runList.push(subscriber)\n    })\n\n    util.seq(runList, params, this.runCallbacks(topic))\n  }\n\n  // parallel run all .done callbacks\n  runCallbacks (topic) {\n    return (err, params) => {\n      this.callbacks[topic] = this.callbacks[topic] || []\n\n      this.callbacks[topic].forEach((c) => {\n        c(err, params)\n      })\n    }\n  }\n\n  // attach a callback when a publish[topic] is done\n  done (topic, callback = function () {}) {\n    this.callbacks[topic] = this.callbacks[topic] || []\n    this.callbacks[topic].push(callback)\n  }\n}\n","/* render plugin\n * renders the iframe\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginRender {\n  constructor (jotted, options) {\n    options = util.extend(options, {})\n\n    // iframe srcdoc support\n    var supportSrcdoc = !!('srcdoc' in document.createElement('iframe'))\n    var $resultFrame = jotted.$container.querySelector('.jotted-pane-result iframe')\n\n    var frameContent = ''\n\n    // cached content\n    var content = {\n      html: '',\n      css: '',\n      js: ''\n    }\n\n    // catch domready events from the iframe\n    window.addEventListener('message', this.domready.bind(this))\n\n    // render on each change\n    jotted.on('change', this.change.bind(this), 100)\n\n    // public\n    this.supportSrcdoc = supportSrcdoc\n    this.content = content\n    this.frameContent = frameContent\n    this.$resultFrame = $resultFrame\n\n    this.callbacks = []\n    this.index = 0\n\n    this.lastCallback = () => {}\n  }\n\n  template (style = '', body = '', script = '') {\n    return `\n      <!doctype html>\n      <html>\n        <head>\n          <script>\n            (function () {\n              window.addEventListener('DOMContentLoaded', function () {\n                window.parent.postMessage(JSON.stringify({\n                  type: 'jotted-dom-ready'\n                }), '*')\n              })\n            }())\n          </script>\n\n          <style>${style}</style>\n        </head>\n        <body>\n          ${body}\n\n          <!--\n            Jotted:\n            Empty script tag prevents malformed HTML from breaking the next script.\n          -->\n          <script></script>\n          <script>${script}</script>\n        </body>\n      </html>\n    `\n  }\n\n  change (params, callback) {\n    // cache manipulated content\n    this.content[params.type] = params.content\n\n    // check existing and to-be-rendered content\n    var oldFrameContent = this.frameContent\n    this.frameContent = this.template(this.content['css'], this.content['html'], this.content['js'])\n\n    // cache the current callback as global,\n    // so we can call it from the message callback.\n    this.lastCallback = () => {\n      this.lastCallback = () => {}\n\n      callback(null, params)\n    }\n\n    // don't render if previous and new frame content are the same.\n    // mostly for the `play` plugin,\n    // so we don't re-render the same content on each change.\n    // unless we set forceRender.\n    if (params.forceRender !== true && this.frameContent === oldFrameContent) {\n      callback(null, params)\n      return\n    }\n\n    if (this.supportSrcdoc) {\n      // srcdoc in unreliable in Chrome.\n      // https://github.com/ghinda/jotted/issues/23\n      this.$resultFrame.contentWindow.document.open()\n      this.$resultFrame.contentWindow.document.write(this.frameContent)\n      this.$resultFrame.contentWindow.document.close()\n    } else {\n      // older browsers without iframe srcset support (IE9).\n      this.$resultFrame.setAttribute('data-srcdoc', this.frameContent)\n\n      // tips from https://github.com/jugglinmike/srcdoc-polyfill\n      // Copyright (c) 2012 Mike Pennisi\n      // Licensed under the MIT license.\n      var jsUrl = 'javascript:window.frameElement.getAttribute(\"data-srcdoc\");'\n\n      this.$resultFrame.setAttribute('src', jsUrl)\n\n      // Explicitly set the iFrame's window.location for\n      // compatibility with IE9, which does not react to changes in\n      // the `src` attribute when it is a `javascript:` URL.\n      if (this.$resultFrame.contentWindow) {\n        this.$resultFrame.contentWindow.location = jsUrl\n      }\n    }\n  }\n\n  domready (e) {\n    // only catch messages from the iframe\n    if (e.source !== this.$resultFrame.contentWindow) {\n      return\n    }\n\n    var data = {}\n    try {\n      data = JSON.parse(e.data)\n    } catch (e) {}\n\n    if (data.type === 'jotted-dom-ready') {\n      this.lastCallback()\n    }\n  }\n}\n","/* scriptless plugin\n * removes script tags from html content\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginScriptless {\n  constructor (jotted, options) {\n    options = util.extend(options, {})\n\n    // https://html.spec.whatwg.org/multipage/scripting.html\n    var runScriptTypes = [\n      'application/javascript',\n      'application/ecmascript',\n      'application/x-ecmascript',\n      'application/x-javascript',\n      'text/ecmascript',\n      'text/javascript',\n      'text/javascript1.0',\n      'text/javascript1.1',\n      'text/javascript1.2',\n      'text/javascript1.3',\n      'text/javascript1.4',\n      'text/javascript1.5',\n      'text/jscript',\n      'text/livescript',\n      'text/x-ecmascript',\n      'text/x-javascript'\n    ]\n\n    // remove script tags on each change\n    jotted.on('change', this.change.bind(this))\n\n    // public\n    this.runScriptTypes = runScriptTypes\n  }\n\n  change (params, callback) {\n    if (params.type !== 'html') {\n      return callback(null, params)\n    }\n\n    // for IE9 support, remove the script tags from HTML content.\n    // when we stop supporting IE9, we can use the sandbox attribute.\n    var fragment = document.createElement('div')\n    fragment.innerHTML = params.content\n\n    var typeAttr = null\n\n    // remove all script tags\n    var $scripts = fragment.querySelectorAll('script')\n    for (let i = 0; i < $scripts.length; i++) {\n      typeAttr = $scripts[i].getAttribute('type')\n\n      // only remove script tags without the type attribute\n      // or with a javascript mime attribute value.\n      // the ones that are run by the browser.\n      if (!typeAttr || this.runScriptTypes.indexOf(typeAttr) !== -1) {\n        $scripts[i].parentNode.removeChild($scripts[i])\n      }\n    }\n\n    params.content = fragment.innerHTML\n\n    callback(null, params)\n  }\n}\n","/* ace plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginAce {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n    this.jotted = jotted\n\n    options = util.extend(options, {})\n\n    // check if Ace is loaded\n    if (typeof window.ace === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      let $aceContainer = document.createElement('div')\n      $editors[i].appendChild($aceContainer)\n\n      this.editor[type] = window.ace.edit($aceContainer)\n      let editor = this.editor[type]\n\n      let editorOptions = util.extend(options)\n\n      editor.getSession().setMode('ace/mode/' + util.getMode(type, file))\n      editor.getSession().setOptions(editorOptions)\n\n      editor.$blockScrolling = Infinity\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  editorChange (params) {\n    return () => {\n      this.jotted.trigger('change', params)\n    }\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the ace change.\n    // triggered only once per editor,\n    // when the textarea is populated/file is loaded.\n    if (!params.aceEditor) {\n      editor.getSession().setValue(params.content)\n\n      // attach the event only after the file is loaded\n      params.aceEditor = editor\n      editor.on('change', this.editorChange(params))\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* coremirror plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCodeMirror {\n  constructor (jotted, options) {\n    var priority = 1\n    var i\n\n    this.editor = {}\n    this.jotted = jotted\n\n    // custom modemap for codemirror\n    var modemap = {\n      'html': 'htmlmixed'\n    }\n\n    options = util.extend(options, {\n      lineNumbers: true\n    })\n\n    // check if CodeMirror is loaded\n    if (typeof window.CodeMirror === 'undefined') {\n      return\n    }\n\n    var $editors = jotted.$container.querySelectorAll('.jotted-editor')\n\n    for (i = 0; i < $editors.length; i++) {\n      let $textarea = $editors[i].querySelector('textarea')\n      let type = util.data($textarea, 'jotted-type')\n      let file = util.data($textarea, 'jotted-file')\n\n      this.editor[type] = window.CodeMirror.fromTextArea($textarea, options)\n      this.editor[type].setOption('mode', util.getMode(type, file, modemap))\n    }\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  editorChange (params) {\n    return () => {\n      // trigger a change event\n      this.jotted.trigger('change', params)\n    }\n  }\n\n  change (params, callback) {\n    var editor = this.editor[params.type]\n\n    // if the event is not started by the codemirror change.\n    // triggered only once per editor,\n    // when the textarea is populated/file is loaded.\n    if (!params.cmEditor) {\n      editor.setValue(params.content)\n\n      // attach the event only after the file is loaded\n      params.cmEditor = editor\n      editor.on('change', this.editorChange(params))\n    }\n\n    // manipulate the params and pass them on\n    params.content = editor.getValue()\n    callback(null, params)\n  }\n}\n","/* less plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginLess {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if less is loaded\n    if (typeof window.less === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Less'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isLess (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.less') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isLess(params)) {\n      window.less.render(params.content, this.options, (err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res.css\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* coffeescript plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginCoffeeScript {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if coffeescript is loaded\n    if (typeof window.CoffeeScript === 'undefined') {\n      return\n    }\n\n    // change JS link label to Less\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'CoffeeScript'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isCoffee (params) {\n    if (params.type !== 'js') {\n      return false\n    }\n\n    return (params.file.indexOf('.coffee') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .less and blank files\n    if (this.isCoffee(params)) {\n      try {\n        params.content = window.CoffeeScript.compile(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n    }\n\n    callback(null, params)\n  }\n}\n","/* stylus plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginStylus {\n  constructor (jotted, options) {\n    var priority = 20\n\n    options = util.extend(options, {})\n\n    // check if stylus is loaded\n    if (typeof window.stylus === 'undefined') {\n      return\n    }\n\n    // change CSS link label to Stylus\n    jotted.$container.querySelector('a[data-jotted-type=\"css\"]').innerHTML = 'Stylus'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  isStylus (params) {\n    if (params.type !== 'css') {\n      return false\n    }\n\n    return (params.file.indexOf('.styl') !== -1 || params.file === '')\n  }\n\n  change (params, callback) {\n    // only parse .styl and blank files\n    if (this.isStylus(params)) {\n      window.stylus(params.content, this.options).render((err, res) => {\n        if (err) {\n          return callback(err, params)\n        } else {\n          // replace the content with the parsed less\n          params.content = res\n        }\n\n        callback(null, params)\n      })\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* babel plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginBabel {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {})\n\n    // check if babel is loaded\n    if (typeof window.Babel !== 'undefined') {\n      // using babel-standalone\n      this.babel = window.Babel\n    } else if (typeof window.babel !== 'undefined') {\n      // using browser.js from babel-core 5.x\n      this.babel = {\n        transform: window.babel\n      }\n    } else {\n      return\n    }\n\n    // change js link label\n    jotted.$container.querySelector('a[data-jotted-type=\"js\"]').innerHTML = 'ES2015'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse js content\n    if (params.type === 'js') {\n      try {\n        params.content = this.babel.transform(params.content, this.options).code\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* markdown plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginMarkdown {\n  constructor (jotted, options) {\n    var priority = 20\n\n    this.options = util.extend(options, {})\n\n    // check if marked is loaded\n    if (typeof window.marked === 'undefined') {\n      return\n    }\n\n    window.marked.setOptions(options)\n\n    // change html link label\n    jotted.$container.querySelector('a[data-jotted-type=\"html\"]').innerHTML = 'Markdown'\n\n    jotted.on('change', this.change.bind(this), priority)\n  }\n\n  change (params, callback) {\n    // only parse html content\n    if (params.type === 'html') {\n      try {\n        params.content = window.marked(params.content)\n      } catch (err) {\n        return callback(err, params)\n      }\n\n      callback(null, params)\n    } else {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      callback(null, params)\n    }\n  }\n}\n","/* console plugin\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginConsole {\n  constructor (jotted, options) {\n    options = util.extend(options, {\n      autoClear: false\n    })\n\n    var priority = 30\n    var history = []\n    var historyIndex = 0\n    var logCaptureSnippet = `(${this.capture.toString()})();`\n    var contentCache = {\n      html: '',\n      css: '',\n      js: ''\n    }\n\n    var $iframe = jotted.$container.querySelector('.jotted-pane-result iframe')\n\n    // new tab and pane markup\n    var $nav = document.createElement('li')\n    util.addClass($nav, 'jotted-nav-item jotted-nav-item-console')\n    $nav.innerHTML = '<a href=\"#\" data-jotted-type=\"console\">JS Console</a>'\n\n    var $pane = document.createElement('div')\n    util.addClass($pane, 'jotted-pane jotted-pane-console')\n\n    $pane.innerHTML = `\n      <div class=\"jotted-console-container\">\n        <ul class=\"jotted-console-output\"></ul>\n        <form class=\"jotted-console-input\">\n          <input type=\"text\">\n        </form>\n      </div>\n      <button class=\"jotted-button jotted-console-clear\">Clear</button>\n    `\n\n    jotted.$container.appendChild($pane)\n    jotted.$container.querySelector('.jotted-nav').appendChild($nav)\n\n    var $container = jotted.$container.querySelector('.jotted-console-container')\n    var $output = jotted.$container.querySelector('.jotted-console-output')\n    var $input = jotted.$container.querySelector('.jotted-console-input input')\n    var $inputForm = jotted.$container.querySelector('.jotted-console-input')\n    var $clear = jotted.$container.querySelector('.jotted-console-clear')\n\n    // submit the input form\n    $inputForm.addEventListener('submit', this.submit.bind(this))\n\n    // console history\n    $input.addEventListener('keydown', this.history.bind(this))\n\n    // clear button\n    $clear.addEventListener('click', this.clear.bind(this))\n\n    // clear the console on each change\n    if (options.autoClear === true) {\n      jotted.on('change', this.autoClear.bind(this), priority - 1)\n    }\n\n    // capture the console on each change\n    jotted.on('change', this.change.bind(this), priority)\n\n    // get log events from the iframe\n    window.addEventListener('message', this.getMessage.bind(this))\n\n    // plugin public properties\n    this.$container = $container\n    this.$input = $input\n    this.$output = $output\n    this.$iframe = $iframe\n    this.history = history\n    this.historyIndex = historyIndex\n    this.logCaptureSnippet = logCaptureSnippet\n    this.contentCache = contentCache\n  }\n\n  getMessage (e) {\n    // only catch messages from the iframe\n    if (e.source !== this.$iframe.contentWindow) {\n      return\n    }\n\n    var data = JSON.parse(e.data)\n    if (data.type === 'jotted-console-log') {\n      this.log(data.message)\n    }\n  }\n\n  autoClear (params, callback) {\n    var snippetlessContent = params.content\n\n    // remove the snippet from cached js content\n    if (params.type === 'js') {\n      snippetlessContent = snippetlessContent.replace(this.logCaptureSnippet, '')\n    }\n\n    // for compatibility with the Play plugin,\n    // clear the console only if something has changed or force rendering.\n    if (params.forceRender === true || this.contentCache[params.type] !== snippetlessContent) {\n      this.clear()\n    }\n\n    // always cache the latest content\n    this.contentCache[params.type] = snippetlessContent\n\n    callback(null, params)\n  }\n\n  change (params, callback) {\n    // only parse js content\n    if (params.type !== 'js') {\n      // make sure we callback either way,\n      // to not break the pubsoup\n      return callback(null, params)\n    }\n\n    // check if the snippet is already added.\n    // the Play plugin caches the changed params and triggers change\n    // with the cached response, causing the snippet to be inserted\n    // multiple times, on each trigger.\n    if (params.content.indexOf(this.logCaptureSnippet) === -1) {\n      params.content = `${this.logCaptureSnippet}${params.content}`\n    }\n\n    callback(null, params)\n  }\n\n  // capture the console.log output\n  capture () {\n    // IE9 with devtools closed\n    if (typeof window.console === 'undefined' || typeof window.console.log === 'undefined') {\n      window.console = {\n        log: function () {}\n      }\n    }\n\n    // for IE9 support\n    var oldConsoleLog = Function.prototype.bind.call(window.console.log, window.console)\n\n    window.console.log = function () {\n      // send log messages to the parent window\n      [].slice.call(arguments).forEach(function (message) {\n        window.parent.postMessage(JSON.stringify({\n          type: 'jotted-console-log',\n          message: message\n        }), '*')\n      })\n\n      // in IE9, console.log is object instead of function\n      // https://connect.microsoft.com/IE/feedback/details/585896/console-log-typeof-is-object-instead-of-function\n      oldConsoleLog.apply(oldConsoleLog, arguments)\n    }\n  }\n\n  log (message = '', type) {\n    var $log = document.createElement('li')\n    util.addClass($log, 'jotted-console-log')\n\n    if (typeof type !== 'undefined') {\n      util.addClass($log, `jotted-console-log-${type}`)\n    }\n\n    $log.innerHTML = message\n\n    this.$output.appendChild($log)\n  }\n\n  submit (e) {\n    var inputValue = this.$input.value.trim()\n\n    // if input is blank, do nothing\n    if (inputValue === '') {\n      return e.preventDefault()\n    }\n\n    // add run to history\n    this.history.push(inputValue)\n    this.historyIndex = this.history.length\n\n    // log input value\n    this.log(inputValue, 'history')\n\n    // add return if it doesn't start with it\n    if (inputValue.indexOf('return') !== 0) {\n      inputValue = 'return ' + inputValue\n    }\n\n    // show output or errors\n    try {\n      // run the console input in the iframe context\n      var scriptOutput = this.$iframe.contentWindow.eval(`(function() {${inputValue}})()`)\n\n      this.log(scriptOutput)\n    } catch (err) {\n      this.log(err, 'error')\n    }\n\n    // clear the console value\n    this.$input.value = ''\n\n    // scroll console pane to bottom\n    // to keep the input into view\n    this.$container.scrollTop = this.$container.scrollHeight\n\n    e.preventDefault()\n  }\n\n  clear () {\n    this.$output.innerHTML = ''\n  }\n\n  history (e) {\n    var UP = 38\n    var DOWN = 40\n    var gotHistory = false\n    var selectionStart = this.$input.selectionStart\n\n    // only if we have previous history\n    // and the cursor is at the start\n    if (e.keyCode === UP && this.historyIndex !== 0 && selectionStart === 0) {\n      this.historyIndex--\n      gotHistory = true\n    }\n\n    // only if we have future history\n    // and the cursor is at the end\n    if (e.keyCode === DOWN && this.historyIndex !== this.history.length - 1 && selectionStart === this.$input.value.length) {\n      this.historyIndex++\n      gotHistory = true\n    }\n\n    // only if history changed\n    if (gotHistory) {\n      this.$input.value = this.history[this.historyIndex]\n    }\n  }\n}\n","/* play plugin\n * adds a Run button\n */\n\nimport * as util from '../util.js'\n\nexport default class PluginPlay {\n  constructor (jotted, options) {\n    options = util.extend(options, {\n      firstRun: true\n    })\n\n    var priority = 10\n    // cached code\n    var cache = {}\n    // latest version of the code.\n    // replaces the cache when the run button is pressed.\n    var code = {}\n\n    // set firstRun=false to start with a blank preview.\n    // run the real content only after the first Run button press.\n    if (options.firstRun === false) {\n      cache = {\n        html: {\n          type: 'html',\n          content: ''\n        },\n        css: {\n          type: 'css',\n          content: ''\n        },\n        js: {\n          type: 'js',\n          content: ''\n        }\n      }\n    }\n\n    // run button\n    var $button = document.createElement('button')\n    $button.className = 'jotted-button jotted-button-play'\n    $button.innerHTML = 'Run'\n\n    jotted.$container.appendChild($button)\n    $button.addEventListener('click', this.run.bind(this))\n\n    // capture the code on each change\n    jotted.on('change', this.change.bind(this), priority)\n\n    // public\n    this.cache = cache\n    this.code = code\n    this.jotted = jotted\n  }\n\n  change (params, callback) {\n    // always cache the latest code\n    this.code[params.type] = util.extend(params)\n\n    // replace the params with the latest cache\n    if (typeof this.cache[params.type] !== 'undefined') {\n      callback(null, this.cache[params.type])\n\n      // make sure we don't cache forceRender,\n      // and send it with each change.\n      this.cache[params.type].forceRender = null\n    } else {\n      // cache the first run\n      this.cache[params.type] = util.extend(params)\n\n      callback(null, params)\n    }\n  }\n\n  run () {\n    // trigger change on each type with the latest code\n    for (let type in this.code) {\n      this.cache[type] = util.extend(this.code[type], {\n        // force rendering on each Run press\n        forceRender: true\n      })\n\n      // trigger the change\n      this.jotted.trigger('change', this.cache[type])\n    }\n  }\n}\n","/* bundle plugins\n */\n\n// register bundled plugins\nimport PluginRender from './plugins/render.js'\nimport PluginScriptless from './plugins/scriptless.js'\n\nimport PluginAce from './plugins/ace.js'\nimport PluginCodeMirror from './plugins/codemirror.js'\nimport PluginLess from './plugins/less.js'\nimport PluginCoffeeScript from './plugins/coffeescript.js'\nimport PluginStylus from './plugins/stylus.js'\nimport PluginBabel from './plugins/babel.js'\nimport PluginMarkdown from './plugins/markdown.js'\nimport PluginConsole from './plugins/console.js'\nimport PluginPlay from './plugins/play.js'\n\nexport default function BundlePlugins (jotted) {\n  jotted.plugin('render', PluginRender)\n  jotted.plugin('scriptless', PluginScriptless)\n\n  jotted.plugin('ace', PluginAce)\n  jotted.plugin('codemirror', PluginCodeMirror)\n  jotted.plugin('less', PluginLess)\n  jotted.plugin('coffeescript', PluginCoffeeScript)\n  jotted.plugin('stylus', PluginStylus)\n  jotted.plugin('babel', PluginBabel)\n  jotted.plugin('markdown', PluginMarkdown)\n  jotted.plugin('console', PluginConsole)\n  jotted.plugin('play', PluginPlay)\n}\n","/* jotted\n */\n\nimport * as util from './util.js'\nimport * as template from './template.js'\nimport * as plugin from './plugin.js'\nimport PubSoup from './pubsoup.js'\n\nclass Jotted {\n  constructor ($jottedContainer, opts) {\n    if (!$jottedContainer) {\n      throw new Error('Can\\'t find Jotted container.')\n    }\n\n    // private data\n    var _private = {}\n    this._get = function (key) {\n      return _private[key]\n    }\n    this._set = function (key, value) {\n      _private[key] = value\n      return _private[key]\n    }\n\n    // options\n    var options = this._set('options', util.extend(opts, {\n      files: [],\n      showBlank: false,\n      runScripts: true,\n      pane: 'result',\n      debounce: 250,\n      plugins: []\n    }))\n\n    // the render plugin is mandatory\n    options.plugins.push('render')\n\n    // use the scriptless plugin if runScripts is false\n    if (options.runScripts === false) {\n      options.plugins.push('scriptless')\n    }\n\n    // cached content for the change method.\n    this._set('cachedContent', {\n      html: null,\n      css: null,\n      js: null\n    })\n\n    // PubSoup\n    var pubsoup = this._set('pubsoup', new PubSoup())\n\n    this._set('trigger', this.trigger())\n    this._set('on', function () {\n      pubsoup.subscribe.apply(pubsoup, arguments)\n    })\n    this._set('off', function () {\n      pubsoup.unsubscribe.apply(pubsoup, arguments)\n    })\n    var done = this._set('done', function () {\n      pubsoup.done.apply(pubsoup, arguments)\n    })\n\n    // after all plugins run\n    // show errors\n    done('change', this.errors.bind(this))\n\n    // DOM\n    var $container = this._set('$container', $jottedContainer)\n    $container.innerHTML = template.container()\n    util.addClass($container, template.containerClass())\n\n    // default pane\n    var paneActive = this._set('paneActive', options.pane)\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    // status nodes\n    this._set('$status', {})\n\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.markup(type)\n    }\n\n    // textarea change events.\n    $container.addEventListener('keyup', util.debounce(this.change.bind(this), options.debounce))\n    $container.addEventListener('change', util.debounce(this.change.bind(this), options.debounce))\n\n    // pane change\n    $container.addEventListener('click', this.pane.bind(this))\n\n    // expose public properties\n    this.$container = this._get('$container')\n    this.on = this._get('on')\n    this.off = this._get('off')\n    this.done = this._get('done')\n    this.trigger = this._get('trigger')\n    this.paneActive = this._get('paneActive')\n\n    // init plugins\n    this._set('plugins', {})\n    plugin.init.call(this)\n\n    // load files\n    for (let type of [ 'html', 'css', 'js' ]) {\n      this.load(type)\n    }\n\n    // show all tabs, even if empty\n    if (options.showBlank) {\n      for (let type of [ 'html', 'css', 'js' ]) {\n        util.addClass($container, template.hasFileClass(type))\n      }\n    }\n  }\n\n  findFile (type) {\n    var file = {}\n    var options = this._get('options')\n\n    for (let fileIndex in options.files) {\n      let file = options.files[fileIndex]\n      if (file.type === type) {\n        return file\n      }\n    }\n\n    return file\n  }\n\n  markup (type) {\n    var $container = this._get('$container')\n    var $parent = $container.querySelector(`.jotted-pane-${type}`)\n    // create the markup for an editor\n    var file = this.findFile(type)\n\n    var $editor = document.createElement('div')\n    $editor.innerHTML = template.editorContent(type, file.url)\n    $editor.className = template.editorClass(type)\n\n    $parent.appendChild($editor)\n\n    // get the status node\n    this._get('$status')[type] = $parent.querySelector('.jotted-status')\n\n    // if we have a file for the current type\n    if (typeof file.url !== 'undefined' || typeof file.content !== 'undefined') {\n      // add the has-type class to the container\n      util.addClass($container, template.hasFileClass(type))\n    }\n  }\n\n  load (type) {\n    // create the markup for an editor\n    var file = this.findFile(type)\n    var $textarea = this._get('$container').querySelector(`.jotted-pane-${type} textarea`)\n\n    // file as string\n    if (typeof file.content !== 'undefined') {\n      this.setValue($textarea, file.content)\n    } else if (typeof file.url !== 'undefined') {\n      // show loading message\n      this.status('loading', [ template.statusLoading(file.url) ], {\n        type: type,\n        file: file\n      })\n\n      // file as url\n      util.fetch(file.url, (err, res) => {\n        if (err) {\n          // show load errors\n          this.status('error', [ template.statusFetchError(err) ], {\n            type: type\n          })\n\n          return\n        }\n\n        // clear the loading status\n        this.clearStatus('loading', {\n          type: type\n        })\n\n        this.setValue($textarea, res)\n      })\n    } else {\n      // trigger a change event on blank editors,\n      // for editor plugins to catch.\n      // (eg. the codemirror and ace plugins attach the change event\n      // only after the initial change/load event)\n      this.setValue($textarea, '')\n    }\n  }\n\n  setValue ($textarea, val) {\n    $textarea.value = val\n\n    // trigger change event, for initial render\n    this.change({\n      target: $textarea\n    })\n  }\n\n  change (e) {\n    var type = util.data(e.target, 'jotted-type')\n    if (!type) {\n      return\n    }\n\n    // don't trigger change if the content hasn't changed.\n    // eg. when blurring the textarea.\n    var cachedContent = this._get('cachedContent')\n    if (cachedContent[type] === e.target.value) {\n      return\n    }\n\n    // cache latest content\n    cachedContent[type] = e.target.value\n\n    // trigger the change event\n    this.trigger('change', {\n      type: type,\n      file: util.data(e.target, 'jotted-file'),\n      content: cachedContent[type]\n    })\n  }\n\n  errors (errs, params) {\n    this.status('error', errs, params)\n  }\n\n  pane (e) {\n    if (!util.data(e.target, 'jotted-type')) {\n      return\n    }\n\n    var $container = this._get('$container')\n    var paneActive = this._get('paneActive')\n    util.removeClass($container, template.paneActiveClass(paneActive))\n\n    paneActive = this._set('paneActive', util.data(e.target, 'jotted-type'))\n    util.addClass($container, template.paneActiveClass(paneActive))\n\n    e.preventDefault()\n  }\n\n  status (statusType = 'error', messages = [], params = {}) {\n    if (!messages.length) {\n      return this.clearStatus(statusType, params)\n    }\n\n    var $status = this._get('$status')\n\n    // add error/loading class to status\n    util.addClass($status[params.type], template.statusClass(statusType))\n\n    util.addClass(this._get('$container'), template.statusActiveClass(params.type))\n\n    var markup = ''\n    messages.forEach(function (err) {\n      markup += template.statusMessage(err)\n    })\n\n    $status[params.type].innerHTML = markup\n  }\n\n  clearStatus (statusType, params) {\n    var $status = this._get('$status')\n\n    util.removeClass($status[params.type], template.statusClass(statusType))\n    util.removeClass(this._get('$container'), template.statusActiveClass(params.type))\n    $status[params.type].innerHTML = ''\n  }\n\n  // debounced trigger method\n  // custom debouncer to use a different timer per type\n  trigger () {\n    var options = this._get('options')\n    var pubsoup = this._get('pubsoup')\n\n    // allow disabling the trigger debouncer.\n    // mostly for testing: when trigger events happen rapidly\n    // multiple events of the same type would be caught once.\n    if (options.debounce === false) {\n      return function () {\n        pubsoup.publish.apply(pubsoup, arguments)\n      }\n    }\n\n    // cooldown timer\n    var cooldown = {}\n    // multiple calls\n    var multiple = {}\n\n    return function (topic, { type = 'default' } = {}) {\n      if (cooldown[type]) {\n        // if we had multiple calls before the cooldown\n        multiple[type] = true\n      } else {\n        // trigger immediately once cooldown is over\n        pubsoup.publish.apply(pubsoup, arguments)\n      }\n\n      clearTimeout(cooldown[type])\n\n      // set cooldown timer\n      cooldown[type] = setTimeout(() => {\n        // if we had multiple calls before the cooldown,\n        // trigger the function again at the end.\n        if (multiple[type]) {\n          pubsoup.publish.apply(pubsoup, arguments)\n        }\n\n        multiple[type] = null\n        cooldown[type] = null\n      }, options.debounce)\n    }\n  }\n}\n\n// register plugins\nJotted.plugin = function () {\n  return plugin.register.apply(this, arguments)\n}\n\n// register bundled plugins\nimport BundlePlugins from './bundle-plugins.js'\nBundlePlugins(Jotted)\n\nexport default Jotted\n"],"names":["find","template.pluginClass","util.extend","data","util.data","util.getMode","template.container","template.containerClass","template.paneActiveClass","util.debounce","template.hasFileClass","template.editorContent","template.editorClass","template.statusLoading","template.statusFetchError","template.statusClass","template.statusActiveClass","template.statusMessage","plugin.register"],"mappings":"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"}